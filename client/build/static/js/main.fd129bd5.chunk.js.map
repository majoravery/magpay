{"version":3,"sources":["client/atoms/header/header.jsx","constants.js","client/views/home/home.jsx","client/views/splash/splash.jsx","client/atoms/row/readonly.jsx","client/atoms/row/datepicker.jsx","client/atoms/row/monthpicker.jsx","client/atoms/row/numeral.jsx","client/atoms/row/radio.jsx","client/atoms/row/text.jsx","context/formContext.jsx","client/atoms/row/rowRenderer.jsx","client/atoms/formInfo/formInfo.jsx","client/atoms/formBreakdown/formBreakdown.jsx","client/views/newPayslip/newPayslip.jsx","client/views/previewPayslip/previewPayslip.jsx","client/atoms/pdfHeader/pdfHeader.jsx","client/atoms/pdfInfo/pdfInfo.jsx","client/atoms/pdfBreakdown/pdfBreakdown.jsx","client/atoms/pdfFooter/pdfFooter.jsx","client/views/emailPayslip/emailPayslip.jsx","client/views/emailSent/emailSent.jsx","client/views/privacyPolicy/privacyPolicy.jsx","context/sessionContext.jsx","captureException.jsx","client/Magpay.jsx","client/app.jsx","index.jsx"],"names":["Header","props","title","disableBackButton","useState","isMenuOpen","setIsMenuOpen","history","useHistory","className","onClick","goBack","to","href","defaultProps","backButton","Home","splashColours","Splash","root","document","documentElement","useEffect","Math","floor","random","length","primary","secondary","style","setProperty","ReadOnly","id","label","sumType","value","displayValue","parseFloat","toFixed","data-type","sumGroup","DatePicker","initialValue","onChange","htmlFor","name","type","defaultValue","e","target","MonthPicker","Numeral","inputMode","step","Radio","choices","map","mode","i","modeId","modeLabel","key","Text","defaultState","createContext","Provider","Consumer","BREAKDOWN_SUBTOTAL_KEYS","FormContextProvider","state","setField","bind","this","setInitialState","createSumGroupObject","_","prevState","snapshot","changedId","Object","keys","filter","calculateSumGroups","setState","updatedSumGroups","data","info","breakdown","forEach","section","values","items","item","groups","reduce","all","each","concat","sumGroupId","push","sumGroups","triggeredSumGroups","includes","updateTotalNeeded","sum","acc","itemId","c","isNaN","u","children","Component","rowRenderer","row","FormInfo","earnings","deductions","additions","nett","FormBreakdown","fields","NewPayslip","PreviewPayslip","pdfDisplayed","container","StyleSheet","create","marginBottom","textAlign","width","companyName","fontSize","addressContainer","marginTop","address","salarySlip","PDFHeader","COLUMN_LEFT","COLUMN_RIGHT","flexDirection","flexWrap","left","marginRight","overflow","right","table","borderBottomWidth","borderRightWidth","borderColor","borderStyle","display","tableRow","margin","col","borderLeftWidth","borderTopWidth","labelCell","marginLeft","wordBreak","valueCell","dollarSign","position","numericValue","stringValue","renderer","side","rows","displayDollarSign","PDFInfo","tableRowReadOnly","backgroundColor","headerCol","headerCell","labelCol","valueCol","PDFBreakdown","charAt","toUpperCase","substr","cell","paddingBottom","PDFFooter","footer","Font","register","family","src","page","padding","PDF","EmailPayslip","ready","setReady","dataUri","setDataUri","isSending","setIsSending","sent","setSent","recipient","setRecipient","subject","setSubject","message","setMessage","recipientInputRef","useRef","subjectInputRef","messageInputRef","handleRecipientInput","handleSubjectInput","handleMessageInput","sendEmail","fetch","method","headers","credentials","body","JSON","stringify","then","res","json","success","console","error","catch","email","nameOfEmployee","salaryPeriod","isButtonDisabled","blob","url","loading","callback","a","FileReader","onload","result","readAsDataURL","blobToDataURL","ref","placeholder","disabled","EmailSent","URLSearchParams","useLocation","search","get","PrivacyPolicy","userId","undefined","loggedIn","SessionContextProvider","logUserOut","logUserIn","setInitialData","cookieLoggedInIdentifier","Promise","cookie","fetchProfile","profile","setUserLoggedIn","Error","cookieLoggedInExpireDays","cookieUserIdIdentifier","cookieUserIdExpireDays","set","expires","remove","loginSucccess","resolve","PrivateRoute","rest","render","location","pathname","from","Magpay","log","path","exact","component","RootContainer","session","ReactDOM","getElementById"],"mappings":"81FAQMA,G,OAAS,SAAAC,GAAU,IACfC,EAA6BD,EAA7BC,MAAOC,EAAsBF,EAAtBE,kBADO,EAEcC,oBAAS,GAFvB,mBAEfC,EAFe,KAEHC,EAFG,KAGlBC,EAAUC,cAEd,OACE,kBAAC,WAAD,KACE,6BAASC,UAAU,iBACjB,yBAAKA,UAAU,uBACXN,GAAqB,4BAAQM,UAAU,iBAAiBC,QAAS,kBAAMH,EAAQI,WAAU,iCAE7F,yBAAKF,UAAU,gBAAgBP,GAC/B,yBAAKO,UAAU,sBACb,4BAAQA,UAAU,mBAAmBC,QAAS,kBAAMJ,GAAc,KAAO,kCAG7E,yBAAKG,UAAS,cAAUJ,EAAyB,GAAZ,YACnC,4BAAQI,UAAU,oBAAoBC,QAAS,kBAAMJ,GAAc,KAAQ,gCAC3E,wBAAIG,UAAU,cACZ,wBAAIA,UAAU,aAAY,kBAAC,IAAD,CAAMG,GAAG,SAAT,SAC1B,wBAAIH,UAAU,aAAY,kBAAC,IAAD,CAAMG,GAAG,YAAT,mBAC1B,wBAAIH,UAAU,mBACd,wBAAIA,UAAU,sBAAd,oBAEF,yBAAKA,UAAU,eACb,uBAAGI,KAAI,UCjCY,ODiCZ,WAA6BJ,UAAU,UAA9C,eAYVT,EAAOc,aAAe,CACpBC,YAAY,GAGCf,QEvBAgB,G,OAlBF,SAAAf,GACX,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQC,MAAM,OAAOC,mBAAmB,IACxC,yBAAKM,UAAU,QACb,yBAAKA,UAAU,eACX,kCARC,QAQD,KACA,0DAEJ,yBAAKA,UAAU,gBACb,kBAAC,IAAD,CAAMG,GAAG,gBAAgBH,UAAU,UAAnC,uBACA,kBAAC,IAAD,CAAMG,GAAG,IAAIH,UAAU,mBAAvB,sCCbJQ,G,OAAgB,CACpB,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,WACZ,CAAC,UAAW,aA8BCC,EA3BA,SAAAjB,GACb,IAAIkB,EAAOC,SAASC,gBAQpB,OANAC,qBAAU,WAAO,IAAD,cACeL,EAAcM,KAAKC,MAAMD,KAAKE,SAAWR,EAAcS,SADtE,GACPC,EADO,KACEC,EADF,KAEdT,EAAKU,MAAMC,YAAY,0BAA2BH,GAClDR,EAAKU,MAAMC,YAAY,4BAA6BF,KACnD,CAACT,EAAKU,QAGP,yBAAKpB,UAAU,UACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,qBACf,yBAAKA,UAAU,wBAEjB,yBAAKA,UAAU,kBACb,wBAAIA,UAAU,gBAAd,wCAIA,uBAAGI,KAAI,UFlCc,OEkCd,UAA4BJ,UAAU,wBAA7C,YC7BFsB,G,MAAW,SAAC,GAA8C,IAA5CtB,EAA2C,EAA3CA,UAAWuB,EAAgC,EAAhCA,GAAIC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC7CC,EAAeD,EAInB,MAHqB,kBAAVA,IACTC,EAAeC,WAAWF,GAAOG,QAAQ,IAGzC,yBAAK7B,UAAS,mBAAcA,GAAa8B,YAAWL,GAClD,yBAAKzB,UAAU,SAASwB,GACxB,yBAAKxB,UAAU,UACb,0BAAMuB,GAAIA,GAAKI,OAcvBL,EAASjB,aAAe,CACtBL,UAAW,GACX+B,SAAU,KACVL,MAAO,MAGMJ,QC7BTU,EAAa,SAAC,GAAgE,IAA9DhC,EAA6D,EAA7DA,UAAWuB,EAAkD,EAAlDA,GAAIC,EAA8C,EAA9CA,MAAOO,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SAClE,OACE,yBAAKlC,UAAS,qBAAgBA,IAC5B,yBAAKA,UAAU,SACb,2BAAOmC,QAASZ,GAAKC,IAEvB,yBAAKxB,UAAU,SACb,2BAAOuB,GAAIA,EAAIa,KAAMb,EAAIc,KAAK,OAAOC,aAAcL,EAAcC,SAAU,SAAAK,GAAC,OAAIL,EAASX,EAAIgB,EAAEC,OAAOd,MAAOK,SAerHC,EAAW3B,aAAe,CACxBL,UAAW,GACX+B,SAAU,KACVE,aAAc,MAGDD,QC5BTS,EAAc,SAAC,GAAgE,IAA9DzC,EAA6D,EAA7DA,UAAWuB,EAAkD,EAAlDA,GAAIC,EAA8C,EAA9CA,MAAOO,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SACnE,OACE,yBAAKlC,UAAS,sBAAiBA,IAC7B,yBAAKA,UAAU,SACb,2BAAOmC,QAASZ,GAAKC,IAEvB,yBAAKxB,UAAU,SACb,2BAAOuB,GAAIA,EAAIa,KAAMb,EAAIc,KAAK,QAAQC,aAAcL,EAAcC,SAAU,SAAAK,GAAC,OAAIL,EAASX,EAAIgB,EAAEC,OAAOd,MAAOK,SAetHU,EAAYpC,aAAe,CACzBL,UAAW,GACX+B,SAAU,KACVE,aAAc,MAGDQ,QC5BTC,EAAU,SAAC,GAAgE,IAA9D1C,EAA6D,EAA7DA,UAAWuB,EAAkD,EAAlDA,GAAIC,EAA8C,EAA9CA,MAAOO,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SAC/D,OACE,yBAAKlC,UAAS,kBAAaA,IACzB,yBAAKA,UAAU,SACb,2BAAOmC,QAASZ,GAAKC,IAEvB,yBAAKxB,UAAU,SACb,2BAAOuB,GAAIA,EAAIa,KAAMb,EAAIc,KAAK,SAASC,aAAcL,EAAcU,UAAU,UAAUC,KAAK,OAAOV,SAAU,SAAAK,GACzG,IAAMb,EAAQE,WAAWW,EAAEC,OAAOd,OAAOG,QAAQ,GACjDK,EAASX,EAAIG,EAAOK,SAiBhCW,EAAQrC,aAAe,CACrBL,UAAW,GACX+B,SAAU,KACVE,aAAc,MAGDS,QChCTG,EAAQ,SAAC,GAAyE,IAAvE7C,EAAsE,EAAtEA,UAAWuB,EAA2D,EAA3DA,GAAIC,EAAuD,EAAvDA,MAAOO,EAAgD,EAAhDA,SAAwBe,GAAwB,EAAtCb,aAAsC,EAAxBa,SAASZ,EAAe,EAAfA,SACtE,OACE,yBAAKlC,UAAS,gBAAWA,IACvB,yBAAKA,UAAU,SACb,2BAAOmC,QAASZ,GAAKC,IAEvB,yBAAKxB,UAAU,WACZ8C,EAAQC,KAAI,SAACC,EAAMC,GAAO,IACbC,EAA6BF,EAAjCzB,GAAmB4B,EAAcH,EAArBxB,MAEpB,OACE,yBAAK4B,IAAKF,EAAQlD,UAAU,UAC1B,2BAAOqC,KAAK,QAAQd,GAAI2B,EAAQd,KAAMb,EAAIG,MAAOwB,EAAQhB,SAAU,SAAAK,GAAC,OAAIL,EAASX,EAAIgB,EAAEC,OAAOd,MAAOK,MACrG,2BAAOI,QAASe,GAASC,UAwBvCN,EAAMxC,aAAe,CACnBL,UAAW,GACX+B,SAAU,KACVE,aAAc,MAGDY,QC3CTQ,EAAO,SAAC,GAAgE,IAA9DrD,EAA6D,EAA7DA,UAAWuB,EAAkD,EAAlDA,GAAIC,EAA8C,EAA9CA,MAAOO,EAAuC,EAAvCA,SAAUE,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SAC5D,OACE,yBAAKlC,UAAS,eAAUA,IACtB,yBAAKA,UAAU,SACb,2BAAOmC,QAASZ,GAAKC,IAEvB,yBAAKxB,UAAU,SACb,2BAAOuB,GAAIA,EAAIa,KAAMb,EAAIc,KAAK,OAAOC,aAAcL,EAAcC,SAAU,SAAAK,GAAC,OAAIL,EAASX,EAAIgB,EAAEC,OAAOd,MAAOK,SAerHsB,EAAKhD,aAAe,CAClBL,UAAW,GACX+B,SAAU,KACVE,aAAc,MAGDoB,Q,yEC5BTC,EAAe,G,EAEUC,wBAAcD,GAArCE,E,EAAAA,SAAUC,E,EAAAA,SAEZC,EAA0B,CAAC,WAAY,aAAc,aAErDC,E,YACJ,WAAYnE,GAAQ,IAAD,8BACjB,4CAAMA,KAEDoE,MAAL,eAAkBN,GAElB,EAAKO,SAAW,EAAKA,SAASC,KAAd,gBALC,E,iFASjBC,KAAKC,kBACLD,KAAKE,yB,yCAGYC,EAAGC,EAAWC,GAAW,IAAD,OACnCC,EAAYC,OAAOC,KAAKJ,GAC3BK,QAAO,SAAApB,GAAG,OAAIe,EAAUf,KAAS,EAAKQ,MAAMR,MAAM,GAErD,GAAKiB,EAAL,CAJyC,MAQJN,KAAKU,mBAAmBJ,GARpB,mBAQlCK,EARkC,KAQxBC,EARwB,KAUrCD,GACFX,KAAKW,SAAL,eAAmBC,O,wCAKrB,IAAIC,EAAO,GACX,CAACC,IAAMC,KAAWC,SAAQ,SAAAC,GACxBV,OAAOW,OAAOD,GACXD,SAAQ,SAAAG,GACPA,EAAMH,SAAQ,SAAAI,GACZP,EAAKO,EAAK5D,IAAM4D,EAAKlD,aAAekD,EAAKlD,aAAe,cAIhE8B,KAAKW,SAAL,eAAmBE,M,6CAKnB,IAAIQ,EAAS,GACb,CAACP,IAAMC,KAAW/B,KAAI,SAAAiC,GAAO,OAC3BV,OAAOW,OAAOD,GACXK,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAIE,OAAOD,KAAQ,IAC1Cf,QAAO,SAAAW,GAAI,OAAIA,EAAKM,cACpBV,SAAQ,SAAAI,GACHC,EAAOD,EAAKM,YACdL,EAAOD,EAAKM,YAAYC,KAAKP,EAAK5D,IAElC6D,EAAOD,EAAKM,YAAc,CAACN,EAAK5D,UAIxCwC,KAAK4B,UAAYP,I,yCAIAf,GAAY,IAAD,OACtBuB,EAAqBtB,OAAOC,KAAKR,KAAK4B,WACzCnB,QAAO,SAAApB,GAAG,OAAI,EAAKuC,UAAUvC,GAAKyC,SAASxB,MAE1CK,GAAW,EACXC,EAAmB,GACnBmB,GAAoB,EAmBxB,GAlBAF,EAAmBb,SAAQ,SAAA3B,GACzB,IAAM2C,EAAM,EAAKJ,UAAUvC,GAAKiC,QAAO,SAACW,EAAKC,GAC3C,IAAMC,EAAI,EAAKtC,MAAMqC,KAAYE,MAAM,EAAKvC,MAAMqC,IAAWrE,WAAW,EAAKgC,MAAMqC,IAAW,EAC9F,OAAOrE,WAAWoE,GAAOE,IACxB,GAGCxC,EAAwBmC,SAASzC,KAAS0C,IAC5CA,GAAoB,GAGlB,EAAKlC,MAAMR,KAASuB,EAAiBvB,KACvCuB,EAAiBvB,GAAO2C,EACxBrB,GAAW,MAKXoB,EAAmB,CAErB,IAAMM,EAAI1C,EAAwBX,KAAI,SAAAK,GAAG,OAAIuB,EAAiBvB,GAAOuB,EAAiBvB,GAAO,EAAKQ,MAAMR,MACxGuB,EAAiBG,UAAYlD,WAAWwE,EAAE,IAAMxE,WAAWwE,EAAE,IAAMxE,WAAWwE,EAAE,IAElF,MAAO,CAAC1B,EAAUC,K,+BAGXpD,EAAIG,GACXqC,KAAKW,SAAL,eAAiBnD,EAAKG,M,+BAGd,IACA2E,EAAatC,KAAKvE,MAAlB6G,SACF3E,EAAK,eACNqC,KAAKH,MADC,CAETC,SAAUE,KAAKF,WAGjB,OAAO,kBAACL,EAAD,CAAU9B,MAAOA,GAAQ2E,O,GAzGFC,aCwBnBC,EAzBK,SAAAC,GAClB,OACE,kBAAC,EAAD,CAAqBpD,IAAKoD,EAAIjF,KAC3B,YAAoC,IAAjCsC,EAAgC,EAAhCA,SAAoBnC,EAAY,EAArB8E,EAAIjF,IACjB,OAAOiF,EAAInE,MACT,IAAK,OACH,OAAO,kBAAC,EAAD,eAAUX,MAAOA,GAAW8E,IACrC,IAAK,OACH,OAAO,kBAAC,EAAD,eAAYtE,SAAU2B,GAAc2C,IAC7C,IAAK,QACH,OAAO,kBAAC,EAAD,eAAatE,SAAU2B,GAAc2C,IAC9C,IAAK,SACH,OAAO,kBAAC,EAAD,eAAStE,SAAU2B,GAAc2C,IAC1C,IAAK,QACH,OAAO,kBAAC,EAAD,eAAOtE,SAAU2B,GAAc2C,IACxC,IAAK,SACH,OAAO,kBAAC,EAAD,eAAMtE,SAAU2B,GAAc2C,SCNlCC,G,OAZE,WACf,OACEnC,OAAOC,KAAKM,KAAM9B,KAAI,SAAAK,GACpB,OACE,6BAASA,IAAKA,EAAK7B,GAAI6B,EAAKpD,UAAU,aACnC6E,IAAKzB,GAAKL,IAAIwD,SCLjBG,G,OAA0C5B,IAA1C4B,UAAUC,EAAgC7B,IAAhC6B,WAAYC,EAAoB9B,IAApB8B,UAAWC,EAAS/B,IAAT+B,KAsB1BC,EApBO,WACpB,IAAMC,EAAS,CAAEL,WAAUC,aAAYC,aACvC,OACE,kBAAC,WAAD,KACGtC,OAAOC,KAAKwC,GAAQhE,KAAI,SAAAK,GACvB,OACE,6BAASA,IAAKA,EAAK7B,GAAI6B,EAAKpD,UAAU,kBACpC,yBAAKA,UAAU,uBAAuBoD,GACrC2D,EAAO3D,GAAKL,IAAIwD,OAKvB,6BAAShF,GAAG,OAAOvB,UAAU,kBAC1BsE,OAAOW,OAAO4B,GAAM9D,IAAIwD,MCIlBS,G,OAnBI,SAAAxH,GACjB,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQC,MAAM,gBAEd,yBAAKO,UAAU,eACb,yBAAKA,UAAU,oBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,OAGF,yBAAKA,UAAU,sBACb,kBAAC,IAAD,CAAMG,GAAG,mBAAmBH,UAAU,0BAAtC,iBCcKiH,G,mBA5Bb,aAAe,IAAD,8BACZ,+CACKrD,MAAQ,CACXsD,cAAc,GAHJ,E,sEAQZ,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQzH,MAAM,oBAEd,yBAAKO,UAAU,mBACb,yBAAKA,UAAU,uBAAf,YAKA,yBAAKA,UAAU,0BACb,uBAAGI,KAAK,IAAIJ,UAAU,2CAAtB,oBACA,kBAAC,IAAD,CAAMG,GAAG,iBAAiBH,UAAU,+BAApC,oB,GArBiBsG,c,OCDvBa,EAAYC,IAAWC,OAAO,CAClCC,aAAc,GACdC,UAAW,SACXC,MALqB,SAQjBC,GAAcL,IAAWC,OAAO,CACpCK,SAAU,GACVJ,aAAc,IAGVK,GAAmBP,IAAWC,OAAO,CACzCO,UAAW,EACXN,aAAc,IAGVO,GAAUT,IAAWC,OAAO,CAChCK,SAAU,GACVJ,aAAc,IAGVQ,GAAaV,IAAWC,OAAO,CACnCK,SAAU,GACVE,UAAW,EACXN,aAAc,IAiBDS,GAdG,WAChB,OACE,kBAAC,IAAD,CAAM3G,MAAO+F,GACX,kBAAC,IAAD,CAAM/F,MAAOqG,IAAb,uBACA,kBAAC,IAAD,CAAMrG,MAAOuG,IACX,kBAAC,IAAD,CAAMvG,MAAOyG,IAAb,sBACA,kBAAC,IAAD,CAAMzG,MAAOyG,IAAb,wBACA,kBAAC,IAAD,CAAMzG,MAAOyG,IAAb,qBAEF,kBAAC,IAAD,CAAMzG,MAAO0G,IAAb,iBC7BAE,GAAc,CAAC,cAAe,WAC9BC,GAAe,CAAC,WAAY,OAE5Bd,GAAYC,IAAWC,OAAO,CAClCa,cAAe,MACfC,SAAU,SAGNC,GAAOhB,IAAWC,OAAO,CAC7BgB,YAAa,GACbC,SAAU,SACVd,MAAO,QAGHe,GAAQnB,IAAWC,OAAO,CAC9BiB,SAAU,SACVd,MAAO,QAGHgB,GAAQpB,IAAWC,OAAO,CAC9BoB,kBAAmB,EACnBC,iBAAkB,EAClBC,YA3BmB,UA4BnBC,YA7BmB,QA8BnBC,QAAS,QACTvB,aAAc,GACdE,MAAO,SAGHsB,GAAW1B,IAAWC,OAAO,CACjCa,cAAe,MACfa,OAAQ,SAGJC,GAAM5B,IAAWC,OAAO,CAC5BuB,YAzCmB,QA0CnBD,YAzCmB,UA0CnBM,gBAAiB,EACjBC,eAAgB,EAChB1B,MA3CqB,QA8CjB2B,GAAY/B,IAAWC,OAAO,CAClCO,UAAW,EACXN,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbX,SAjDuB,GAkDvB2B,UAAW,eAGPC,GAAYlC,IAAWC,OAAO,CAClCO,UAAW,EACXN,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbX,SA1DuB,GA2DvBH,UAAW,UAGPgC,GAAanC,IAAWC,OAAO,CACnCe,KAAM,EACNoB,SAAU,WACVjC,UAAW,OACXC,MApEqB,QAuEjBiC,GAAerC,IAAWC,OAAO,CACrCmC,SAAU,WACVjB,MAAO,EACPhB,UAAW,QACXC,MA3EqB,QA8EjBkC,GAActC,IAAWC,OAAO,CACpCmC,SAAU,WACVjC,UAAW,OACXC,MAhFqB,SAmFjBmC,GAAW,SAAAC,GACf,OAAOtF,OAAOC,KAAKM,KAChBL,QAAO,SAAApB,GAAG,OAAIwG,EAAK/D,SAASzC,MAC5BL,KAAI,SAAAK,GACH,IAAMyG,EAAOhF,IAAKzB,GACZ0G,EAA4B,QAAR1G,EAE1B,OACE,kBAAC,IAAD,CAAMhC,MAAOoH,GAAOpF,IAAKA,GACtByG,EAAK9G,KAAI,gBAAGxB,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACR,kBAAC,EAAD,CAAqB4B,IAAK7B,IACvB,gBAASG,EAAT,EAAIH,GAAJ,OACC,kBAAC,IAAD,CAAMH,MAAO0H,IACX,kBAAC,IAAD,CAAM1H,MAAO4H,IACX,kBAAC,IAAD,CAAM5H,MAAO+H,IACX,kBAAC,IAAD,KAAO3H,KAGX,kBAAC,IAAD,CAAMJ,MAAO4H,IACX,kBAAC,IAAD,CAAM5H,MAAOkI,IACVQ,EACG,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAM1I,MAAOmI,IAAb,KAAiC,kBAAC,IAAD,CAAMnI,MAAOqI,IAAe/H,IAE/D,kBAAC,IAAD,CAAMN,MAAOsI,IAAchI,iBAyBtCqI,GAbC,WACd,OACE,kBAAC,IAAD,CAAM3I,MAAO+F,IACX,kBAAC,IAAD,CAAM/F,MAAOgH,IACVuB,GAAS3B,KAEZ,kBAAC,IAAD,CAAM5G,MAAOmH,IACVoB,GAAS1B,OCxHZO,GAAQpB,IAAWC,OAAO,CAC9BoB,kBAAmB,EACnBC,iBAAkB,EAClBC,YAVmB,UAWnBC,YAZmB,QAanBC,QAAS,QACTvB,aAAc,GACdE,MAAO,SAGHsB,GAAW1B,IAAWC,OAAO,CACjCa,cAAe,MACfa,OAAQ,SAGJiB,GAAmB5C,IAAWC,OAAX,eACpByB,GADoB,CAEvBmB,gBA1Be,UA6BXC,GAAY9C,IAAWC,OAAO,CAClCsB,YA5BmB,UA6BnBM,gBAAiB,EACjBL,YA/BmB,QAgCnBM,eAAgB,EAChB1B,MA5BqB,SA+BjB2C,GAAa/C,IAAWC,OAAO,CACnCK,SA/BuB,GAgCvBJ,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbT,UAAW,EACXL,UAAW,WAGP6C,GAAWhD,IAAWC,OAAO,CACjCsB,YA7CmB,UA8CnBM,gBAAiB,EACjBL,YAhDmB,QAiDnBM,eAAgB,EAChB1B,MA9C+B,QAiD3B2B,GAAY/B,IAAWC,OAAO,CAClCK,SAhDuB,GAiDvBJ,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbT,UAAW,IAGPyC,GAAWjD,IAAWC,OAAO,CACjCsB,YA7DmB,UA8DnBM,gBAAiB,EACjBL,YAhEmB,QAiEnBM,eAAgB,EAChB1B,MAhEwB,QAmEpB8B,GAAYlC,IAAWC,OAAO,CAClCK,SAhEuB,GAiEvBJ,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbT,UAAW,EACX4B,SAAU,WACVjC,UAAW,UAGPgC,GAAanC,IAAWC,OAAO,CACnCe,KAAM,EACNoB,SAAU,WACVjC,UAAW,OACXC,MAhFqB,QAmFjBiC,GAAerC,IAAWC,OAAO,CACrCmC,SAAU,WACVjB,MAAO,EACPhB,UAAW,QACXC,MAvFqB,QAuJR8C,GA7DM,WACnB,OACEhG,OAAOC,KAAKO,KACTN,QAAO,SAAApB,GAAG,MAAY,SAARA,KACdL,KAAI,SAAAK,GAAG,OACN,kBAAC,IAAD,CAAMhC,MAAOoH,GAAOpF,IAAG,UAAKA,EAAL,WACrB,kBAAC,IAAD,CAAMhC,MAAO0H,IACX,kBAAC,IAAD,CAAM1H,MAAO8I,IACX,kBAAC,IAAD,CAAM9I,MAAO+I,IAEX,kBAAC,IAAD,KAAO/G,EAAImH,OAAO,GAAGC,cAAepH,EAAIqH,OAAO,OAKpD3F,IAAU1B,GACRoB,QAAO,SAAAgC,GAAG,MAAiB,SAAbA,EAAInE,QAClBU,KAAI,gBAAGxB,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACH,kBAAC,EAAD,CAAqB4B,IAAK7B,IACvB,gBAASG,EAAT,EAAIH,GAAJ,OACC,kBAAC,IAAD,CAAMH,MAAO0H,IACX,kBAAC,IAAD,CAAM1H,MAAOgJ,IACX,kBAAC,IAAD,CAAMhJ,MAAO+H,IACX,kBAAC,IAAD,KAAO3H,KAGX,kBAAC,IAAD,CAAMJ,MAAOiJ,IACX,kBAAC,IAAD,CAAMjJ,MAAOkI,IACX,kBAAC,IAAD,CAAMlI,MAAOmI,IAAb,KAAiC,kBAAC,IAAD,CAAMnI,MAAOqI,IAAe/H,YAQ1EoD,IAAU1B,GACRoB,QAAO,SAAAgC,GAAG,MAAiB,SAAbA,EAAInE,QAClBU,KAAI,gBAAGxB,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACH,kBAAC,EAAD,CAAqB4B,IAAK7B,IACvB,gBAASG,EAAT,EAAIH,GAAJ,OACC,kBAAC,IAAD,CAAMH,MAAO4I,IACX,kBAAC,IAAD,CAAM5I,MAAOgJ,IACX,kBAAC,IAAD,CAAMhJ,MAAO+H,IACX,kBAAC,IAAD,KAAO3H,KAGX,kBAAC,IAAD,CAAMJ,MAAOiJ,IACX,kBAAC,IAAD,CAAMjJ,MAAOkI,IACX,kBAAC,IAAD,CAAMlI,MAAOmI,IAAb,KAAiC,kBAAC,IAAD,CAAMnI,MAAOqI,IAAe/H,iBC3I/E8G,GAAQpB,IAAWC,OAAO,CAC9BoB,kBAAmB,EACnBC,iBAAkB,EAClBC,YAPmB,UAQnBC,YATmB,QAUnBC,QAAS,QACTvB,aAAc,GACdE,MAAO,SAGHsB,GAAW1B,IAAWC,OAAO,CACjCa,cAAe,MACfa,OAAQ,SAGJC,GAAM5B,IAAWC,OAAO,CAC5B4B,gBAAiB,EACjBC,eAAgB,EAChBP,YAtBmB,UAuBnBC,YAxBmB,QAyBnBpB,MAvBqB,QA0BjBkD,GAAOtD,IAAWC,OAAO,CAC7BK,SA1BuB,GA2BvBJ,aAAc,EACd8B,WAAY,EACZf,YAAa,EACbT,UAAW,EACX+C,cAAe,GACftB,UAAW,eAqBEuB,GAlBG,WAChB,OACE,kBAAC,IAAD,CAAMxJ,MAAOoH,IACX,kBAAC,IAAD,CAAMpH,MAAO0H,IACVxE,OAAOW,OAAO4F,KACZ9H,KAAI,gBAAGxB,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACH,kBAAC,IAAD,CAAMJ,MAAO4H,GAAK5F,IAAK7B,GACrB,kBAAC,IAAD,CAAMH,MAAOsJ,IACX,kBAAC,IAAD,KAAOlJ,W,OC7BvBsJ,IAAKC,SAAS,CACZC,OAAQ,SACRC,IAAK,sEAGP,IAAMC,GAAO9D,IAAWC,OAAO,CAC7B8D,QAAS,cAGLC,GAAM,kBACV,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMhK,MAAO8J,IACX,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,SAmHSG,GA9GM,SAAA7L,GAAU,IAAD,EACFG,oBAAS,GADP,mBACrB2L,EADqB,KACdC,EADc,OAEE5L,mBAAS,MAFX,mBAErB6L,EAFqB,KAEZC,EAFY,OAGM9L,oBAAS,GAHf,mBAGrB+L,EAHqB,KAGVC,EAHU,OAIJhM,oBAAS,GAJL,mBAIrBiM,EAJqB,KAIfC,EAJe,OAMMlM,mBAAS,4BANf,mBAMrBmM,EANqB,KAMVC,EANU,OAOEpM,mBAAS,4BAPX,mBAOrBqM,EAPqB,KAOZC,EAPY,OAQEtM,mBAAS,IARX,mBAQrBuM,EARqB,KAQZC,EARY,KAUtBC,EAAoBC,iBAAO,MAC3BC,EAAkBD,iBAAO,MACzBE,EAAkBF,iBAAO,MAEzBG,EAAuB,SAAAjK,GAAC,OAAIwJ,EAAaxJ,EAAEC,OAAOd,QAClD+K,EAAqB,SAAAlK,GAAC,OAAI0J,EAAW1J,EAAEC,OAAOd,QAC9CgL,EAAqB,SAAAnK,GAAC,OAAI4J,EAAW5J,EAAEC,OAAOd,QAQpD,SAASiL,IACPhB,GAAa,GACbiB,MAAM,GAAD,OnBpEoB,OmBoEpB,UAA2B,CAC9BC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,YAAa,UACbC,KAAMC,KAAKC,UAAU,CACnB1B,UACAM,YACAE,UACAE,cAGDiB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,YAA2B,IAAxBG,EAAuB,EAAvBA,QAASpB,EAAc,EAAdA,QACXoB,GACHC,QAAQC,MAAR,iBAAwBtB,IAE1BP,GAAa,GACbE,EAAQyB,MAETG,MAAMF,QAAQC,OAGnB,OA9BA3M,qBAAU,WACR+L,MAAM,GAAD,OnB7DoB,OmB6DpB,UACFO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAC,GAAG,OAAIrB,EAAaqB,EAAIM,YAC/B,IA0BC9B,EACM,kBAAC,IAAD,CAAUzL,GAAE,kCAA6B2L,KAIjD,kBAAC,EAAD,MACG,YAAuC,IAApC6B,EAAmC,EAAnCA,eAAgBC,EAAmB,EAAnBA,aACZC,GAAoBvC,KAAWI,EAC/BtJ,EAAOuL,GAAc,kBAE3B,OACE,kBAAC,WAAD,MACIrC,GAAS,kBAAC,IAAD,CAAc3K,SAAU,kBAAC,GAAD,QAChC,YAAoC,IAAjCmN,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,IAAKC,EAAqB,EAArBA,QAASR,EAAY,EAAZA,MAQtB,OAPIM,GA1FpB,SAAuBA,EAAMG,GAC3B,IAAMC,EAAI,IAAIC,WACdD,EAAEE,OAAS,SAAS7L,GAClB0L,EAAS1L,EAAEC,OAAO6L,SAEpBH,EAAEI,cAAcR,GAsFAS,CAAcT,EAAMrC,GAEjB+B,GAAUQ,IAAYD,IAAOD,GAChCvC,GAAS,GAGJ,QAIX,kBAAC,EAAD,CAAQ9L,MAAM,kBACd,yBAAKO,UAAU,iBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,uBACb,2BAAOmC,QAAQ,aAAf,qBACA,2BAAOZ,GAAG,YAAYa,KAAK,YAAYC,KAAK,OAAOX,MAAOoK,EAAW0C,IAAKpC,EAAmBlK,SAAUsK,KAGzG,yBAAKxM,UAAU,uBACb,2BAAOmC,QAAQ,WAAf,WACA,2BAAOZ,GAAG,UAAUa,KAAK,UAAUC,KAAK,OAAOX,MAAOsK,EAASwC,IAAKlC,EAAiBpK,SAAUuK,KAGjG,yBAAKzM,UAAU,uBACb,2BAAOmC,QAAQ,WAAf,WACA,8BAAUZ,GAAG,UAAUa,KAAK,UAAUC,KAAK,OAAOwH,KAAK,IAAI4E,YAAY,oBAAoB/M,MAAOwK,EAASsC,IAAKjC,EAAiBrK,SAAUwK,KAG7I,yBAAK1M,UAAU,4BACb,+BADF,iBAEE,0CAAgBoC,EAAhB,MAAyBwL,GAAY,qBAIzC,yBAAK5N,UAAU,wBACb,4BAAQC,QAAS0M,EAAW3M,UAAS,mCAA8B6N,GAAoB,YAAca,SAAUb,GAC5GnC,EAAa,0BAAM1L,UAAU,WAAhB,QAA2C,qB,OClI3E,IAqBe2O,GArBG,SAAAnP,GAChB,IACMsM,EALC,IAAI8C,gBAAgBC,cAAcC,QAKjBC,IAAI,aAE5B,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQtP,MAAM,kBACd,yBAAKO,UAAU,cACb,yBAAKA,UAAU,mBACX,qCACA,qDAA2B8L,EAA3B,MAEJ,yBAAK9L,UAAU,sBACb,kBAAC,IAAD,CAAMG,GAAG,gBAAgBH,UAAU,UAAnC,2BACA,kBAAC,IAAD,CAAMG,GAAG,QAAQH,UAAU,UAA3B,yBCuBKgP,I,OA3CO,WACpB,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAQvP,MAAM,iBAAiBC,mBAAmB,IAClD,yBAAKM,UAAU,kBACb,mLAE2C,uBAAGI,KAAK,iCAAR,gCAF3C,yCAIA,0QAKA,yTAKA,yJAIA,8QAKA,gMAIA,oQAKA,iF,wCCnCR,IAAMkD,GAAe,CACnB2L,YAAQC,EACRC,cAAUD,G,GAGmB3L,wBAAcD,IAArCE,G,GAAAA,SAAUC,G,GAAAA,SAEZ2L,G,YACJ,WAAY5P,GAAQ,IAAD,8BACjB,4CAAMA,KAEDoE,MAAL,eACKN,IAGL,EAAK+L,WAAa,EAAKA,WAAWvL,KAAhB,gBAClB,EAAKwL,UAAY,EAAKA,UAAUxL,KAAf,gBARA,E,iFAYjBC,KAAKwL,mB,oIAKKC,EAA6BzL,KAAKvE,MAAlCgQ,yB,oBAEcC,QAAQnK,IAAI,CtBhCP,MsBiCzBoK,KAAOX,IAAIS,GAAkDzL,KAAK4L,oBAAiBT,K,OAD/EU,E,OAIAX,EAASW,EAAQrO,GAEvBwC,KAAK8L,gBAAgBZ,GACrBlL,KAAKW,SAAS,CAAEuK,W,kDCxCI1M,ED0CH,IAAIuN,MAAJ,wDCzCrBvC,QAAQC,MAAMjL,G,kCADhB,IAA0BA,I,uJDoDf,CAAEhB,GAAI,U,6EAGO0N,G,8FAMhBlL,KAAKvE,MAJPgQ,E,EAAAA,yBACAO,E,EAAAA,yBACAC,E,EAAAA,uBACAC,E,EAAAA,uBAEEhB,GACFS,KAAOQ,IAAIF,EAAwBf,EAAQ,CAAEkB,QAASF,IACtDP,KAAOQ,IAAIV,EtB/DgB,IsB+D6B,CAAEW,QAASJ,MAEnEL,KAAOU,OAAOJ,GACdN,KAAOU,OAAOZ,I,oBAGyB5C,MAAM,GAAD,OtBvErB,OsBuEqB,gBAAgCO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,W,gBAA7EgD,E,EAAT/C,QACRvJ,KAAKW,SAAS,CAAEyK,SAAUkB,I,iFAGlBpB,GAAS,IAAD,OAChB,OAAO,IAAIQ,SAAQ,SAAAa,GACjB,EAAKT,gBAAgBZ,GACrB,EAAKvK,SAAS,CAAEuK,UAAUqB,Q,mCAIhB,IAAD,OACX,OAAO,IAAIb,SAAQ,SAAAa,GAEjB,EAAK5L,SAASpB,IACd,EAAKuM,qBAAgBX,GACrBoB,S,+BAIM,IACAjK,EAAatC,KAAKvE,MAAlB6G,SADD,EAEsBtC,KAAKH,MAC5BlC,EAAQ,CACZuN,OAJK,EAECA,OAGNE,SALK,EAESA,SAIdE,WAAYtL,KAAKsL,WACjBC,UAAWvL,KAAKuL,WAElB,OAAO,kBAAC,GAAD,CAAU5N,MAAK,eAAOA,IAAU2E,O,GAtFNC,aED/BiK,GAAe,SAAC,GAAqC,IAAnClK,EAAkC,EAAlCA,SAAU8I,EAAwB,EAAxBA,SAAaqB,EAAW,uCACxD,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,YAAmB,IAAhBC,EAAe,EAAfA,SACT,OAAOvB,EACH9I,EAEE,kBAAC,IAAD,CACElG,GAAI,CACFwQ,SAAU,IACV/M,MAAO,CAAEgN,KAAMF,IAEjBhL,MAAI,SAqCLmL,GA5BA,WACb,OACE,kBAAC,EAAD,KACE,kBAAC,GAAD,MACC,YAAmB,IAAhB1B,EAAe,EAAfA,SAGF,OAFA5B,QAAQuD,IAAI3B,QAEKD,IAAbC,GAKF,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAO4B,KAAK,IAAIC,OAAK,EAACC,UAAWxQ,IACjC,kBAAC,GAAD,CAAcsQ,KAAK,QAAQ5B,SAAUA,GAAU,kBAAC,EAAD,OAC/C,kBAAC,GAAD,CAAc4B,KAAK,eAAe5B,SAAUA,GAAU,kBAAC,EAAD,OACtD,kBAAC,GAAD,CAAc4B,KAAK,mBAAmB5B,SAAUA,GAAU,kBAAC,EAAD,OAC1D,kBAAC,GAAD,CAAc4B,KAAK,iBAAiB5B,SAAUA,GAAU,kBAAC,GAAD,OACxD,kBAAC,GAAD,CAAc4B,KAAK,gBAAgB5B,SAAUA,GAAU,kBAAC,GAAD,OACvD,kBAAC,IAAD,CAAO4B,KAAK,WAAWE,UAAWjC,WCxB/BkC,GAjBO,WACpB,IAAMC,EAAU,CACd3B,yBzBVuC,qByBWvCO,yBzBVwC,GyBWxCC,uBzBVqC,mByBWrCC,uBzBVsC,IyBaxC,OACE,kBAAC,GAA2BkB,EAC1B,kBAAC,IAAD,KACE,kBAAC,GAAD,SCnBRC,IAASX,OAAO,kBAAC,GAAD,MAAmB9P,SAAS0Q,eAAe,U","file":"static/js/main.fd129bd5.chunk.js","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport { string, bool } from 'prop-types';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { BACKEND_ROUTE } from './../../../constants';\n\nimport './header.scss';\n\nconst Header = props => {\n  const { title, disableBackButton } = props;\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  let history = useHistory();\n\n  return (\n    <Fragment>\n      <article className=\"header-header\">\n        <div className=\"header-back-button\">\n          {!disableBackButton && <button className=\"go-back-button\" onClick={() => history.goBack()}><span></span></button>}\n        </div>\n        <div className=\"header-title\">{title}</div>\n        <div className=\"header-menu-button\">\n          <button className=\"open-menu-button\" onClick={() => setIsMenuOpen(true)}><span></span></button>\n        </div>\n      </article>\n      <div className={`menu${!isMenuOpen ? ' hidden' : ''}`}>\n        <button className=\"close-menu-button\" onClick={() => setIsMenuOpen(false)}><span></span></button>\n        <ul className=\"menu-items\">\n          <li className=\"menu-item\"><Link to='/home'>Home</Link></li>\n          <li className=\"menu-item\"><Link to='/privacy'>Privacy policy</Link></li>\n          <hr className=\"menu-separator\"></hr>\n          <li className=\"menu-item disabled\">Change language</li>\n        </ul>\n        <div className=\"logout-area\">\n          <a href={`${BACKEND_ROUTE}/logout`} className=\"logout\">Logout</a>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nHeader.propTypes = {\n  title: string.isRequired,\n  backButton: bool,\n}\n\nHeader.defaultProps = {\n  backButton: false,\n}\n\nexport default Header;\n","export const BACKEND_ROUTE = '/api';\n\nexport const COOKIE_STATE_TRUE = '1';\nexport const COOKIE_STATE_FALSE = '0'\n\nexport const COOKIE_LOGGED_IN_IDENTIFIER = 'magbelle_logged_in';\nexport const COOKIE_LOGGED_IN_EXPIRE_DAYS = 30;\nexport const COOKIE_USER_ID_IDENTIFIER = 'magbelle_user_id';\nexport const COOKIE_USER_ID_EXPIRE_DAYS = 30;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Header from '../../atoms/header';\nimport './home.scss';\n\nconst name = 'Avery'; // TODO: change to name of logged in user\n\nconst Home = props => {\n  return (\n    <Fragment>\n      <Header title=\"Home\" disableBackButton={true} />\n      <div className=\"home\">\n        <div className=\"home-prompt\">\n            <h2>Hi {name}!</h2>\n            <p>What would you like to do?</p>\n          </div>\n        <div className=\"home-actions\">\n          <Link to=\"/payslip/new/\" className=\"button\">Create new pay slip</Link>\n          <Link to=\"/\" className=\"button disabled\">Create pay slip from template</Link>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default Home;\n","import React, { useEffect } from 'react';\n\nimport { BACKEND_ROUTE } from '../../../constants';\n\nimport './splash.scss';\n\nconst splashColours = [\n  ['#cc2200', '#03698f'], // burgundy and teal\n  ['#372772', '#2E0F15'], // violet and dark maroon\n  ['#618bff', '#fbff00'], // electric blue and yellow\n  ['#09814A', '#ff8c00'], // green and orange\n];\n\nconst Splash = props => {\n  let root = document.documentElement;\n\n  useEffect(() => {\n    const [primary, secondary] = splashColours[Math.floor(Math.random() * splashColours.length)];\n    root.style.setProperty('--splash-primary-colour', primary);\n    root.style.setProperty('--splash-secondary-colour', secondary);\n  }, [root.style]);\n\n  return (\n    <div className=\"splash\">\n      <div className=\"splash-bgs\">\n        <div className=\"splash-bg bg-one\"></div>\n        <div className=\"splash-bg bg-two\"></div>\n        <div className=\"splash-bg bg-three\"></div>\n      </div>\n      <div className=\"splash-actions\">\n        <h1 className=\"splash-title\">\n          Magbelle Hair Salon\n          Pay Slip Creator\n        </h1>\n        <a href={`${BACKEND_ROUTE}/login`} className=\"button splash-button\">Login</a>\n      </div>\n    </div>\n  );\n}\n\nexport default Splash;\n","import React from 'react';\nimport { string, number, oneOfType } from 'prop-types';\n\nimport './row.scss';\n\nconst ReadOnly = ({ className, id, label, sumType, value }) => {\n  let displayValue = value;\n  if (typeof value === 'number') {\n    displayValue = parseFloat(value).toFixed(2);\n  }\n  return (\n    <div className={`readonly ${className}`} data-type={sumType}>\n      <div className=\"label\">{label}</div>\n      <div className=\"output\">\n        <span id={id}>{displayValue}</span>\n      </div>\n    </div>\n  );\n}\n\nReadOnly.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string,\n  value: oneOfType([number, string]),\n}\n\nReadOnly.defaultProps = {\n  className: '',\n  sumGroup: null,\n  value: null,\n}\n\nexport default ReadOnly;\n","import React from 'react';\nimport { string, func } from 'prop-types';\n\nimport './row.scss';\n\nconst DatePicker = ({ className, id, label, sumGroup, initialValue, onChange }) => {\n  return (\n    <div className={`datepicker ${className}`}>\n      <div className=\"label\">\n        <label htmlFor={id}>{label}</label>\n      </div>\n      <div className=\"input\">\n        <input id={id} name={id} type=\"date\" defaultValue={initialValue} onChange={e => onChange(id, e.target.value, sumGroup) } />\n      </div>\n    </div>\n  );\n}\n\nDatePicker.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string, \n  initialValue: string,\n  onChange: func.isRequired,\n}\n\nDatePicker.defaultProps = {\n  className: '',\n  sumGroup: null,\n  initialValue: null,\n}\n\nexport default DatePicker;\n","import React from 'react';\nimport { string, func } from 'prop-types';\n\nimport './row.scss';\n\nconst MonthPicker = ({ className, id, label, sumGroup, initialValue, onChange }) => {\n  return (\n    <div className={`monthpicker ${className}`}>\n      <div className=\"label\">\n        <label htmlFor={id}>{label}</label>\n      </div>\n      <div className=\"input\">\n        <input id={id} name={id} type=\"month\" defaultValue={initialValue} onChange={e => onChange(id, e.target.value, sumGroup) } />\n      </div>\n    </div>\n  );\n}\n\nMonthPicker.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string, \n  initialValue: string,\n  onChange: func.isRequired,\n}\n\nMonthPicker.defaultProps = {\n  className: '',\n  sumGroup: null,\n  initialValue: null,\n}\n\nexport default MonthPicker;\n","import React from 'react';\nimport { string, func, number } from 'prop-types';\n\nimport './row.scss';\n\nconst Numeral = ({ className, id, label, sumGroup, initialValue, onChange }) => {\n  return (\n    <div className={`numeral ${className}`}>\n      <div className=\"label\">\n        <label htmlFor={id}>{label}</label>\n      </div>\n      <div className=\"input\">\n        <input id={id} name={id} type=\"number\" defaultValue={initialValue} inputMode=\"decimal\" step=\"0.01\" onChange={e => {\n            const value = parseFloat(e.target.value).toFixed(2);\n            onChange(id, value, sumGroup);\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nNumeral.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string, \n  initialValue: number,\n  onChange: func.isRequired,\n}\n\nNumeral.defaultProps = {\n  className: '',\n  sumGroup: null,\n  initialValue: null,\n}\n\nexport default Numeral;\n","import React from 'react';\nimport { string, func, arrayOf, shape } from 'prop-types';\n\nimport './row.scss';\n\nconst Radio = ({ className, id, label, sumGroup, initialValue, choices, onChange }) => {\n  return (\n    <div className={`radio ${className}`}>\n      <div className=\"label\">\n        <label htmlFor={id}>{label}</label>\n      </div>\n      <div className=\"options\">\n        {choices.map((mode, i) => {\n          const { id: modeId, label: modeLabel } = mode;\n          \n          return (\n            <div key={modeId} className=\"option\">\n              <input type=\"radio\" id={modeId} name={id} value={modeId} onChange={e => onChange(id, e.target.value, sumGroup)} />\n              <label htmlFor={modeId}>{modeLabel}</label>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nRadio.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string, \n  initialValue: string,\n  choices: arrayOf(\n    shape({\n      id: string.isRequired,\n      label: string.isRequired,\n    })\n  ).isRequired,\n  onChange: func.isRequired,\n}\n\nRadio.defaultProps = {\n  className: '',\n  sumGroup: null,\n  initialValue: null,\n}\n\nexport default Radio;\n","import React from 'react';\nimport { string, func } from 'prop-types';\n\nimport './row.scss';\n\nconst Text = ({ className, id, label, sumGroup, initialValue, onChange }) => {\n  return (\n    <div className={`text ${className}`}>\n      <div className=\"label\">\n        <label htmlFor={id}>{label}</label>\n      </div>\n      <div className=\"input\">\n        <input id={id} name={id} type=\"text\" defaultValue={initialValue} onChange={e => onChange(id, e.target.value, sumGroup) } />\n      </div>\n    </div>\n  );\n}\n\nText.propTypes = {\n  className: string,\n  id: string.isRequired,\n  label: string.isRequired,\n  sumGroup: string, \n  initialValue: string,\n  onChange: func.isRequired,\n}\n\nText.defaultProps = {\n  className: '',\n  sumGroup: null,\n  initialValue: null,\n}\n\nexport default Text;\n","import React, { Component, createContext } from 'react';\nimport { node } from 'prop-types';\n\nimport { info, breakdown } from '../form.v2.json';\n\nconst defaultState = {};\n\nconst { Provider, Consumer } = createContext(defaultState);\n\nconst BREAKDOWN_SUBTOTAL_KEYS = ['earnings', 'deductions', 'additions'];\n\nclass FormContextProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...defaultState };\n\n    this.setField = this.setField.bind(this);\n  }\n\n  componentDidMount() {\n    this.setInitialState();\n    this.createSumGroupObject();\n  }\n\n  componentDidUpdate(_, prevState, snapshot) {\n    const changedId = Object.keys(prevState)\n      .filter(key => prevState[key] !== this.state[key])[0];\n    \n    if (!changedId) {\n      return;\n    }\n\n    const [setState, updatedSumGroups] = this.calculateSumGroups(changedId);\n\n    if (setState) {\n      this.setState({ ...updatedSumGroups });\n    }\n  }\n\n  setInitialState() {\n    let data = [];\n    [info, breakdown].forEach(section => {\n      Object.values(section)\n        .forEach(items => {\n          items.forEach(item => { \n            data[item.id] = item.initialValue ? item.initialValue : null;\n          });\n        });\n    });\n    this.setState({ ...data });\n  }\n\n  // This function turns the form json into an object like: { [rouproupID]: [field IDs] }\n  createSumGroupObject() {\n    let groups = {};\n    [info, breakdown].map(section => (\n      Object.values(section)\n        .reduce((all, each) => (all.concat(each)), [])\n        .filter(item => item.sumGroupId) // Filter items that have a sumGroupId\n        .forEach(item => {\n          if (groups[item.sumGroupId]) {\n            groups[item.sumGroupId].push(item.id);  \n          } else {\n            groups[item.sumGroupId] = [item.id];\n          }\n        })\n    ));\n    this.sumGroups = groups;\n  }\n\n  // Calculate valules of subtotal and total fields\n  calculateSumGroups(changedId) {\n    const triggeredSumGroups = Object.keys(this.sumGroups)\n      .filter(key => this.sumGroups[key].includes(changedId));\n\n    let setState = false;\n    let updatedSumGroups = {};\n    let updateTotalNeeded = false;\n    triggeredSumGroups.forEach(key => {\n      const sum = this.sumGroups[key].reduce((acc, itemId) => {\n        const c = this.state[itemId] && !isNaN(this.state[itemId]) ? parseFloat(this.state[itemId]) : 0;\n        return parseFloat(acc) + c;\n      }, 0);\n\n      // Hardcoding this bit until I figure out a more robust solution #1\n      if (BREAKDOWN_SUBTOTAL_KEYS.includes(key) && !updateTotalNeeded) {\n        updateTotalNeeded = true;\n      }\n\n      if (this.state[key] !== updatedSumGroups[key]) {\n        updatedSumGroups[key] = sum;\n        setState = true;\n      }\n    });\n\n    // Hardcoding this bit until I figure out a more robust solution #2\n    if (updateTotalNeeded) {\n      // Subtotal state hasn't been set yet, so use in-memory state value here\n      const u = BREAKDOWN_SUBTOTAL_KEYS.map(key => updatedSumGroups[key] ? updatedSumGroups[key] : this.state[key])\n      updatedSumGroups.breakdown = parseFloat(u[0]) - parseFloat(u[1]) + parseFloat(u[2]);\n    }\n    return [setState, updatedSumGroups];\n  }\n\n  setField(id, value) {\n    this.setState({ [id]: value });\n  }\n\n  render() {\n    const { children } = this.props;\n    const value = {\n      ...this.state,\n      setField: this.setField,\n    };\n    \n    return <Provider value={value}>{children}</Provider>;\n  }\n}\n\nFormContextProvider.propTypes = {\n  children: node.isRequired,\n};\n\nexport { FormContextProvider, Consumer as FormContextConsumer };\n","import React from 'react';\n\nimport ReadOnly from './readonly';\nimport DatePicker from './datepicker';\nimport MonthPicker from './monthpicker';\nimport Numeral from './numeral';\nimport Radio from './radio';\nimport Text from './text';\nimport { FormContextConsumer } from '../../../context/formContext';\n\nconst rowRenderer = row => {\n  return (\n    <FormContextConsumer key={row.id}>\n      {({ setField, [row.id]: value }) => { // dunno if [row.id] works\n        switch(row.type) {\n          case 'auto':\n            return <ReadOnly value={value} {...row} />;\n          case 'date':\n            return <DatePicker onChange={setField} {...row} />;\n          case 'month':\n            return <MonthPicker onChange={setField} {...row} />;\n          case 'number':\n            return <Numeral onChange={setField} {...row} />;\n          case 'radio':\n            return <Radio onChange={setField} {...row} />;\n          case 'string':\n            return <Text onChange={setField} {...row} />;\n          default:\n            break;\n          }\n      }}\n    </FormContextConsumer>\n  );\n}\n\nexport default rowRenderer;\n","import React from 'react';\n\nimport rowRenderer from '../row';\n\nimport { info } from '../../../form.v2.json';\n\nimport './formInfo.scss';\n\nconst FormInfo = () => {\n  return (\n    Object.keys(info).map(key => {\n      return (\n        <section key={key} id={key} className=\"form-info\">\n          {info[key].map(rowRenderer)}\n        </section>\n      );\n    })\n  );\n}\n\nexport default FormInfo;\n","import React, { Fragment } from 'react';\n\nimport rowRenderer from '../row';\n\nimport { breakdown } from '../../../form.v2.json';\n\nimport './formBreakdown.scss';\n\nconst { earnings, deductions, additions, nett } = breakdown;\n\nconst FormBreakdown = () => {\n  const fields = { earnings, deductions, additions };\n  return (\n    <Fragment>\n      {Object.keys(fields).map(key => {\n        return (\n          <section key={key} id={key} className=\"form-breakdown\">\n            <div className=\"form-section-header\">{key}</div>\n            {fields[key].map(rowRenderer)}\n          </section>\n        );\n      })}\n\n      <section id=\"nett\" className=\"form-breakdown\">\n        {Object.values(nett).map(rowRenderer)}\n      </section>\n    </Fragment>\n  );\n}\n\nexport default FormBreakdown;\n","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Header from '../../atoms/header';\nimport FormInfo from '../../atoms/formInfo';\nimport FormBreakdown from '../../atoms/formBreakdown';\n\nimport './newPayslip.scss';\n\nconst NewPayslip = props => {\n  return (\n    <Fragment>\n      <Header title=\"New payslip\" />\n\n      <div className=\"new-payslip\">\n        <div className=\"new-payslip-form\">\n          <FormInfo />\n          <FormBreakdown />\n        </div>\n\n        <div className=\"new-payslip-footer\">\n          <Link to=\"/payslip/preview\" className=\"button continue-button\">Continue</Link>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default NewPayslip;\n","import React, { Fragment, Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Header from '../../atoms/header';\nimport './previewPayslip.scss';\n\nclass PreviewPayslip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      pdfDisplayed: false,\n    }\n  }\n  \n  render() {\n    return (\n      <Fragment>\n        <Header title=\"Preview payslip\" />\n\n        <div className=\"preview-payslip\">\n          <div className=\"preview-payslip-box\">\n            {/* NOTE: react-pdf does not support viewing PDF in mobile yet */}\n            PDF HERE\n          </div>\n\n          <div className=\"preview-payslip-footer\">\n            <a href=\"/\" className=\"button save-as-template-button disabled\">Save as template</a>\n            <Link to=\"/payslip/email\" className=\"button email-payslip-button\">Email PDF</Link>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default PreviewPayslip;\n","import React from 'react';\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\n\nconst COL_WIDTH_FULL = '100%';\n\nconst container = StyleSheet.create({\n  marginBottom: 20,\n  textAlign: \"center\",\n  width: COL_WIDTH_FULL,\n});\n\nconst companyName = StyleSheet.create({\n  fontSize: 19,\n  marginBottom: 4,\n});\n\nconst addressContainer = StyleSheet.create({\n  marginTop: 8,\n  marginBottom: 4,\n});\n\nconst address = StyleSheet.create({\n  fontSize: 12,\n  marginBottom: 2,\n});\n\nconst salarySlip = StyleSheet.create({\n  fontSize: 14,\n  marginTop: 8,\n  marginBottom: 4,\n});\n\nconst PDFHeader = () => {\n  return (\n    <View style={container}>\n      <Text style={companyName}>Magbelle Hair Salon</Text>\n      <View style={addressContainer}>\n        <Text style={address}>18 Yishun Avenue 9</Text>\n        <Text style={address}>Junction Nine #02-49</Text>\n        <Text style={address}>Singapore 768897</Text>\n      </View>\n      <Text style={salarySlip}>Salary Slip</Text>\n    </View>\n  );\n};\n\nexport default PDFHeader;\n","import React, { Fragment } from 'react';\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\n\nimport { FormContextConsumer } from '../../../context/formContext';\nimport { info } from '../../../form.v2.json';\n\nconst BORDER_STYLE = 'solid';\nconst BORDER_COLOR = '#6c6c6c';\nconst COL_WIDTH_HALF = '50%';\nconst COL_WIDTH_FULL = '100%';\nconst NORMAL_FONT_SIZE = 10;\n\nconst COLUMN_LEFT = ['particulars', 'payment'];\nconst COLUMN_RIGHT = ['duration', 'cpf'];\n\nconst container = StyleSheet.create({\n  flexDirection: \"row\",\n  flexWrap: \"wrap\",\n});\n\nconst left = StyleSheet.create({\n  marginRight: 20,\n  overflow: \"hidden\",\n  width: \"48%\",\n});\n\nconst right = StyleSheet.create({\n  overflow: \"hidden\",\n  width: \"48%\",\n});\n\nconst table = StyleSheet.create({\n  borderBottomWidth: 1,\n  borderRightWidth: 1,\n  borderColor: BORDER_COLOR,\n  borderStyle: BORDER_STYLE,\n  display: \"table\",\n  marginBottom: 16,\n  width: \"auto\",\n});\n\nconst tableRow = StyleSheet.create({\n  flexDirection: \"row\",\n  margin: \"auto\",\n});\n\nconst col = StyleSheet.create({\n  borderStyle: BORDER_STYLE,\n  borderColor: BORDER_COLOR,\n  borderLeftWidth: 1,\n  borderTopWidth: 1,\n  width: COL_WIDTH_HALF,\n});\n\nconst labelCell = StyleSheet.create({\n  marginTop: 4,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  fontSize: NORMAL_FONT_SIZE,\n  wordBreak: \"break-word\",\n});\n\nconst valueCell = StyleSheet.create({\n  marginTop: 4,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  fontSize: NORMAL_FONT_SIZE,\n  textAlign: \"right\",\n});\n\nconst dollarSign = StyleSheet.create({\n  left: 0,\n  position: \"absolute\",\n  textAlign: \"left\",\n  width: COL_WIDTH_HALF,\n});\n\nconst numericValue = StyleSheet.create({\n  position: \"absolute\",\n  right: 0,\n  textAlign: \"right\",\n  width: COL_WIDTH_HALF,\n});\n\nconst stringValue = StyleSheet.create({\n  position: \"absolute\",\n  textAlign: \"left\",\n  width: COL_WIDTH_FULL,\n});\n\nconst renderer = side => {\n  return Object.keys(info)\n    .filter(key => side.includes(key))\n    .map(key => {\n      const rows = info[key];\n      const displayDollarSign = key === 'cpf';\n\n      return (\n        <View style={table} key={key}>\n          {rows.map(({ id, label }) => (\n            <FormContextConsumer key={id}>\n              {({ [id]: value }) => (\n                <View style={tableRow}>\n                  <View style={col}>\n                    <View style={labelCell}>\n                      <Text>{label}</Text>\n                    </View>\n                  </View>\n                  <View style={col}>\n                    <View style={valueCell}>\n                      {displayDollarSign\n                        ? <Fragment>\n                            <Text style={dollarSign}>$</Text><Text style={numericValue}>{value}</Text>\n                          </Fragment>\n                        : <Text style={stringValue}>{value}</Text>}\n                    </View>\n                  </View>\n                </View>\n              )}\n            </FormContextConsumer>\n          ))}\n        </View>\n      );\n    });\n}\n\nconst PDFInfo = () => {\n  return (\n    <View style={container}>\n      <View style={left}>\n        {renderer(COLUMN_LEFT)}\n      </View>\n      <View style={right}>\n        {renderer(COLUMN_RIGHT)}\n      </View>\n    </View>\n  );\n};\n\nexport default PDFInfo;\n","import React from 'react';\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\n\nimport { FormContextConsumer } from '../../../context/formContext';\nimport { breakdown } from '../../../form.v2.json';\n\nconst BG_COLOR = '#eee';\nconst BORDER_STYLE = 'solid';\nconst BORDER_COLOR = '#6c6c6c';\nconst COL_WIDTH_QUARTER = '25%';\nconst COL_WIDTH_HALF = '50%';\nconst COL_WIDTH_THREE_QUARTERS = '75%';\nconst COL_WIDTH_FULL = '100%';\nconst NORMAL_FONT_SIZE = 10;\n\nconst table = StyleSheet.create({\n  borderBottomWidth: 1,\n  borderRightWidth: 1,\n  borderColor: BORDER_COLOR,\n  borderStyle: BORDER_STYLE,\n  display: \"table\",\n  marginBottom: 16,\n  width: \"auto\",\n});\n\nconst tableRow = StyleSheet.create({\n  flexDirection: \"row\",\n  margin: \"auto\",\n});\n\nconst tableRowReadOnly = StyleSheet.create({\n  ...tableRow,\n  backgroundColor: BG_COLOR,\n});\n\nconst headerCol = StyleSheet.create({\n  borderColor: BORDER_COLOR,\n  borderLeftWidth: 1,\n  borderStyle: BORDER_STYLE,\n  borderTopWidth: 1,\n  width: COL_WIDTH_FULL,\n});\n\nconst headerCell = StyleSheet.create({\n  fontSize: NORMAL_FONT_SIZE,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  marginTop: 4,\n  textAlign: \"center\",\n});\n\nconst labelCol = StyleSheet.create({\n  borderColor: BORDER_COLOR,\n  borderLeftWidth: 1,\n  borderStyle: BORDER_STYLE,\n  borderTopWidth: 1,\n  width: COL_WIDTH_THREE_QUARTERS, \n});\n\nconst labelCell = StyleSheet.create({\n  fontSize: NORMAL_FONT_SIZE,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  marginTop: 4,\n});\n\nconst valueCol = StyleSheet.create({\n  borderColor: BORDER_COLOR,\n  borderLeftWidth: 1,\n  borderStyle: BORDER_STYLE,\n  borderTopWidth: 1,\n  width: COL_WIDTH_QUARTER,\n});\n\nconst valueCell = StyleSheet.create({\n  fontSize: NORMAL_FONT_SIZE,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  marginTop: 4,\n  position: \"relative\",\n  textAlign: \"right\",\n});\n\nconst dollarSign = StyleSheet.create({\n  left: 0,\n  position: \"absolute\",\n  textAlign: \"left\",\n  width: COL_WIDTH_HALF,\n});\n\nconst numericValue = StyleSheet.create({\n  position: \"absolute\",\n  right: 0,\n  textAlign: \"right\",\n  width: COL_WIDTH_HALF,\n});\n\nconst PDFBreakdown = () => {\n  return (\n    Object.keys(breakdown)\n      .filter(key => key !== 'nett')\n      .map(key => (\n        <View style={table} key={`${key}-table`}>\n          <View style={tableRow}> \n            <View style={headerCol}>\n              <View style={headerCell}>\n                {/* Unfort react-pdf StyleSheet does not support text-transform: capitalize */}\n                <Text>{key.charAt(0).toUpperCase()}{key.substr(1)}</Text>\n              </View>\n            </View>\n          </View>\n          \n          {breakdown[key] // All input fields\n            .filter(row => row.type !== 'auto')\n            .map(({ id, label }) => (\n              <FormContextConsumer key={id}>\n                {({ [id]: value }) => (\n                  <View style={tableRow}>\n                    <View style={labelCol}>\n                      <View style={labelCell}>\n                        <Text>{label}</Text>\n                      </View>\n                    </View>\n                    <View style={valueCol}>\n                      <View style={valueCell}>\n                        <Text style={dollarSign}>$</Text><Text style={numericValue}>{value}</Text>\n                      </View>\n                    </View>\n                  </View>\n                )}\n              </FormContextConsumer>\n            ))}\n\n          {breakdown[key] // ReadOnly fields\n            .filter(row => row.type === 'auto')\n            .map(({ id, label }) => (\n              <FormContextConsumer key={id}>\n                {({ [id]: value }) => (\n                  <View style={tableRowReadOnly}>\n                    <View style={labelCol}>\n                      <View style={labelCell}>\n                        <Text>{label}</Text>\n                      </View>\n                    </View>\n                    <View style={valueCol}>\n                      <View style={valueCell}>\n                        <Text style={dollarSign}>$</Text><Text style={numericValue}>{value}</Text>\n                      </View>\n                    </View>\n                  </View>\n                )}\n              </FormContextConsumer>\n            ))}\n        </View>\n      ))\n  );\n};\n\nexport default PDFBreakdown;\n","import React from 'react';\nimport { Text, View, StyleSheet } from '@react-pdf/renderer';\n\nimport { footer } from '../../../form.v2.json';\n\nconst BORDER_STYLE = 'solid';\nconst BORDER_COLOR = '#6c6c6c';\nconst COL_WIDTH_HALF = '50%';\nconst NORMAL_FONT_SIZE = 10;\n\nconst table = StyleSheet.create({\n  borderBottomWidth: 1,\n  borderRightWidth: 1,\n  borderColor: BORDER_COLOR,\n  borderStyle: BORDER_STYLE,\n  display: \"table\",\n  marginBottom: 16,\n  width: \"auto\",\n});\n\nconst tableRow = StyleSheet.create({\n  flexDirection: \"row\",\n  margin: \"auto\",\n});\n\nconst col = StyleSheet.create({\n  borderLeftWidth: 1,\n  borderTopWidth: 1,\n  borderColor: BORDER_COLOR,\n  borderStyle: BORDER_STYLE,\n  width: COL_WIDTH_HALF,\n});\n\nconst cell = StyleSheet.create({\n  fontSize: NORMAL_FONT_SIZE,\n  marginBottom: 4,\n  marginLeft: 8,\n  marginRight: 8,\n  marginTop: 4,\n  paddingBottom: 38,\n  wordBreak: \"break-word\", // don't think this registers\n});\n\nconst PDFFooter = () => {\n  return (\n    <View style={table}>\n      <View style={tableRow}>\n        {Object.values(footer)\n          .map(({ id, label }) => (\n            <View style={col} key={id}>\n              <View style={cell}>\n                <Text>{label}</Text>\n              </View>\n            </View>\n          ))\n        }\n      </View>\n    </View>\n  );\n};\n\nexport default PDFFooter;\n","import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Font, Document, Page, StyleSheet, BlobProvider } from '@react-pdf/renderer';\n\nimport Header from '../../atoms/header';\nimport PDFHeader from '../../atoms/pdfHeader';\nimport PDFInfo from '../../atoms/pdfInfo';\nimport PDFBreakdown from '../../atoms/pdfBreakdown';\nimport PDFFooter from '../../atoms/pdfFooter';\nimport { FormContextConsumer } from '../../../context/formContext';\nimport { BACKEND_ROUTE } from '../../../constants';\n\nimport './emailPayslip.scss';\n\nfunction blobToDataURL(blob, callback) {\n  const a = new FileReader();\n  a.onload = function(e) {\n    callback(e.target.result);\n  }\n  a.readAsDataURL(blob);\n}\n\nFont.register({\n  family: 'Oswald',\n  src: 'https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf'\n});\n\nconst page = StyleSheet.create({\n  padding: \"50px 45px\",\n});\n\nconst PDF = () => (\n  <Document>\n    <Page style={page}>\n      <PDFHeader />\n      <PDFInfo />\n      <PDFBreakdown />\n      <PDFFooter />\n    </Page>\n  </Document>\n);\n\nconst EmailPayslip = props => {\n  const [ready, setReady] = useState(false);\n  const [dataUri, setDataUri] = useState(null);\n  const [isSending, setIsSending] = useState(false);\n  const [sent, setSent] = useState(false);\n\n  const [recipient, setRecipient] = useState('vivianaverylim@gmail.com');\n  const [subject, setSubject] = useState('New pay slip from Magpay');\n  const [message, setMessage] = useState('');\n\n  const recipientInputRef = useRef(null);\n  const subjectInputRef = useRef(null);\n  const messageInputRef = useRef(null);\n\n  const handleRecipientInput = e => setRecipient(e.target.value);\n  const handleSubjectInput = e => setSubject(e.target.value);\n  const handleMessageInput = e => setMessage(e.target.value);\n\n  useEffect(() => {\n    fetch(`${BACKEND_ROUTE}/user`)\n      .then(res => res.json())\n      .then(res => setRecipient(res.email));\n  }, [])\n\n  function sendEmail() {\n    setIsSending(true);\n    fetch(`${BACKEND_ROUTE}/email`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      credentials: 'include',\n      body: JSON.stringify({ \n        dataUri,\n        recipient,\n        subject,\n        message,\n      }),\n    })\n      .then(res => res.json())\n      .then(({ success, message }) => {\n        if (!success) {\n          console.error(`Error: ${message}`);\n        }\n        setIsSending(false);\n        setSent(success);\n      })\n      .catch(console.error);\n  }\n\n  if (sent) {\n    return (<Redirect to={`/payslip/sent?recipient=${recipient}`} />);\n  }\n\n  return (\n    <FormContextConsumer>\n      {({ nameOfEmployee, salaryPeriod }) => {\n        const isButtonDisabled = !ready || !!isSending;\n        const name = nameOfEmployee ? nameOfEmployee : `[employee name]`;\n\n        return (\n          <Fragment>\n            {!ready && <BlobProvider document={<PDF />}>\n              {({ blob, url, loading, error }) => {\n                if (blob) {\n                  blobToDataURL(blob, setDataUri);\n                }\n                if (!error && !loading && (url || blob)) {\n                  setReady(true);\n                }\n\n                return null; // Important: component needs to return something (at least a null)\n              }}\n            </BlobProvider>}\n            \n            <Header title=\"Email payslip\" />\n            <div className=\"email-payslip\">\n              <div className=\"email-payslip-box\">\n                <div className=\"email-payslip-field\">\n                  <label htmlFor=\"recipient\">Recipient Address</label>\n                  <input id=\"recipient\" name=\"recipient\" type=\"text\" value={recipient} ref={recipientInputRef} onChange={handleRecipientInput} />\n                </div>\n\n                <div className=\"email-payslip-field\">\n                  <label htmlFor=\"subject\">Subject</label>\n                  <input id=\"subject\" name=\"subject\" type=\"text\" value={subject} ref={subjectInputRef} onChange={handleSubjectInput} />\n                </div>\n\n                <div className=\"email-payslip-field\">\n                  <label htmlFor=\"message\">Message</label>\n                  <textarea id=\"message\" name=\"message\" type=\"text\" rows=\"8\" placeholder=\"Type message here\" value={message} ref={messageInputRef} onChange={handleMessageInput} ></textarea>\n                </div>\n\n                <div className=\"email-payslip-attachment\">\n                  <span></span>File attached:\n                  <p>Payslip for {name} - {salaryPeriod ? salaryPeriod : `[salary period]`}</p>\n                </div>\n\n              </div>\n              <div className=\"email-payslip-footer\">\n                <button onClick={sendEmail} className={`button send-email-button ${isButtonDisabled && 'disabled'}`} disabled={isButtonDisabled}>\n                  {isSending ? (<span className=\"spinner\">&nbsp;</span>) : 'Send email' }\n                </button>\n              </div>\n            </div>\n          </Fragment>\n        );\n      }}\n    </FormContextConsumer>\n  );\n}\n\nexport default EmailPayslip;\n","import React, { Fragment } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport Header from '../../atoms/header';\n\nimport './emailSent.scss';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst EmailSent = props => {\n  let query = useQuery();\n  const recipient = query.get('recipient');\n\n  return (\n    <Fragment>\n      <Header title=\"Email payslip\" />\n      <div className=\"email-sent\">\n        <div className=\"email-sent-text\">\n            <h2>Done!</h2>\n            <p>Your email was sent to {recipient}.</p>\n          </div>\n        <div className=\"email-sent-actions\">\n          <Link to=\"/payslip/new/\" className=\"button\">Create another pay slip</Link>\n          <Link to=\"/home\" className=\"button\">Back to home page</Link>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default EmailSent;\n","import React, { Fragment } from 'react';\n\nimport Header from '../../atoms/header';\nimport './privacyPolicy.scss';\n\nconst PrivacyPolicy = () => {\n  return (\n    <Fragment>\n      <Header title=\"Privacy Policy\" disableBackButton={true} />\n      <div className=\"privacy-policy\">\n        <p>\n          Your privacy is important to us. It is Magpay's policy to respect your privacy regarding any information we\n          may collect from you across our website, <a href=\"https://magpay.herokuapp.com/\">https://magpay.herokuapp.com</a>, and other sites we own and operate.\n        </p>\n        <p>\n          We only ask for personal information when we truly need it to provide a service to you. We collect it by fair\n          and lawful means, with your knowledge and consent. We also let you know why we’re collecting it and how it\n          will be used.\n        </p>\n        <p>\n          We only retain collected information for as long as necessary to provide you with your requested service. What\n          data we store, we’ll protect within commercially acceptable means to prevent loss and theft, as well as\n          unauthorised access, disclosure, copying, use or modification.\n        </p>\n        <p>\n          We don’t share any personally identifying information publicly or with third-parties, except when required to\n          by law.\n        </p>\n        <p>\n          Our website may link to external sites that are not operated by us. Please be aware that we have no control\n          over the content and practices of these sites, and cannot accept responsibility or liability for their\n          respective privacy policies.\n        </p>\n        <p>\n          You are free to refuse our request for your personal information, with the understanding that we may be unable\n          to provide you with some of your desired services.\n        </p>\n        <p>\n          Your continued use of our website will be regarded as acceptance of our practices around privacy and personal\n          information. If you have any questions about how we handle user data and personal information, feel free to\n          contact us.\n        </p>\n        <p>This policy is effective as of 1 January 2020.</p>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default PrivacyPolicy;\n","import React, { Component, createContext } from 'react';\nimport { node, string, number } from 'prop-types';\nimport cookie from 'js-cookie';\n\nimport { captureException } from '../captureException';\nimport { BACKEND_ROUTE, COOKIE_STATE_TRUE } from '../constants';\n\nconst defaultState = {\n  userId: undefined,\n  loggedIn: undefined,\n};\n\nconst { Provider, Consumer } = createContext(defaultState);\n\nclass SessionContextProvider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      ...defaultState,\n    }\n\n    this.logUserOut = this.logUserOut.bind(this);\n    this.logUserIn = this.logUserIn.bind(this);\n  }\n\n  componentDidMount() {\n    this.setInitialData();\n  }\n\n  async setInitialData() {\n    try {\n      const { cookieLoggedInIdentifier } = this.props;\n\n      const profile = await Promise.all([\n        cookie.get(cookieLoggedInIdentifier) === COOKIE_STATE_TRUE ? this.fetchProfile() : undefined,\n      ]);\n\n      const userId = profile.id;\n\n      this.setUserLoggedIn(userId);\n      this.setState({ userId });\n    } catch (error) {\n      captureException(new Error(`SessionContext initial data set failed ${error}`));\n    }\n  }\n\n  async fetchProfile() {\n    // TODO: \n    // const { client } = this.props;\n\n    // const profileData = await client.query({ query: FETCH_PROFILE, errorPolicy: IGNORE_ERROR_POLICY });\n    // return get('data.profile', profileData);\n    return { id: 'mabel' };\n  }\n\n  async setUserLoggedIn(userId) {\n    const {\n      cookieLoggedInIdentifier,\n      cookieLoggedInExpireDays,\n      cookieUserIdIdentifier,\n      cookieUserIdExpireDays,\n    } = this.props;\n    if (userId) {\n      cookie.set(cookieUserIdIdentifier, userId, { expires: cookieUserIdExpireDays });\n      cookie.set(cookieLoggedInIdentifier, COOKIE_STATE_TRUE, { expires: cookieLoggedInExpireDays });\n    } else {\n      cookie.remove(cookieUserIdIdentifier);\n      cookie.remove(cookieLoggedInIdentifier);\n    }\n\n    const { success: loginSucccess } = await fetch(`${BACKEND_ROUTE}/logincheck`).then(res => res.json());\n    this.setState({ loggedIn: loginSucccess });\n  }\n\n  logUserIn(userId) {\n    return new Promise(resolve => {\n      this.setUserLoggedIn(userId);\n      this.setState({ userId }, resolve);\n    });\n  }\n\n  logUserOut() {\n    return new Promise(resolve => {\n      // Not sure why this isn't done in the same order as above\n      this.setState(defaultState);\n      this.setUserLoggedIn(undefined);\n      resolve();\n    });\n  }\n\n  render() {\n    const { children } = this.props;\n    const { userId, loggedIn } = this.state;\n    const value = {\n      userId,\n      loggedIn,\n      logUserOut: this.logUserOut,\n      logUserIn: this.logUserIn,\n    };\n    return <Provider value={{ ...value }}>{children}</Provider>;\n  }\n}\n\nSessionContextProvider.propTypes = {\n  children: node.isRequired,\n  cookieLoggedInIdentifier: string.isRequired,\n  cookieLoggedInExpireDays: number.isRequired,\n  cookieUserIdIdentifier: string.isRequired,\n  cookieUserIdExpireDays: number.isRequired,\n};\n\nexport { SessionContextProvider, Consumer as SessionContextConsumer };\n","// TODO: replace with an error tracking SaaS\nfunction captureException(e) {\n  console.error(e);\n}\n\nexport { captureException };\n","import React, { Fragment } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport Home from './views/home';\nimport Splash from './views/splash';\nimport NewPayslip from './views/newPayslip';\nimport PreviewPayslip from './views/previewPayslip';\nimport EmailPayslip from './views/emailPayslip';\nimport EmailSent from './views/emailSent';\nimport PrivacyPolicy from './views/privacyPolicy';\nimport { FormContextProvider } from '../context/formContext';\nimport { SessionContextConsumer } from '../context/sessionContext';\n\nconst PrivateRoute = ({ children, loggedIn, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) => {\n        return loggedIn\n          ? children\n          : (\n              <Redirect\n                to={{\n                  pathname: \"/\", // Maybe add something here specifying that you're redirected bc you're not logged in\n                  state: { from: location }\n                }}\n                push\n              />\n            );\n        }}\n    />\n  );\n      \n};\n\nconst Magpay = () => {\n  return (\n    <FormContextProvider>\n      <SessionContextConsumer>\n      {({ loggedIn }) => {\n        console.log(loggedIn);\n        // NOTE: this might not work when users log out but that's not being implemented rn anyway\n        if (loggedIn === undefined) {\n          return false;\n        }\n\n        return (\n          <Fragment>\n            <Route path=\"/\" exact component={Splash} />\n            <PrivateRoute path=\"/home\" loggedIn={loggedIn}><Home /></PrivateRoute>\n            <PrivateRoute path=\"/payslip/new\" loggedIn={loggedIn}><NewPayslip /></PrivateRoute>\n            <PrivateRoute path=\"/payslip/preview\" loggedIn={loggedIn}><PreviewPayslip /></PrivateRoute>\n            <PrivateRoute path=\"/payslip/email\" loggedIn={loggedIn}><EmailPayslip /></PrivateRoute>\n            <PrivateRoute path=\"/payslip/sent\" loggedIn={loggedIn}><EmailSent /></PrivateRoute>\n            <Route path=\"/privacy\" component={PrivacyPolicy} />\n          </Fragment>\n        );\n      }}\n      </SessionContextConsumer>\n    </FormContextProvider>\n  );\n}\n\nexport default Magpay;\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Magpay from './Magpay';\nimport { SessionContextProvider } from '../context/sessionContext';\n\nimport {\n  COOKIE_LOGGED_IN_IDENTIFIER,\n  COOKIE_LOGGED_IN_EXPIRE_DAYS,\n  COOKIE_USER_ID_IDENTIFIER,\n  COOKIE_USER_ID_EXPIRE_DAYS,\n} from '../constants';\n\nconst RootContainer = () => {\n  const session = {\n    cookieLoggedInIdentifier: COOKIE_LOGGED_IN_IDENTIFIER,\n    cookieLoggedInExpireDays: COOKIE_LOGGED_IN_EXPIRE_DAYS,\n    cookieUserIdIdentifier: COOKIE_USER_ID_IDENTIFIER,\n    cookieUserIdExpireDays: COOKIE_USER_ID_EXPIRE_DAYS,\n  };\n\n  return (\n    <SessionContextProvider {...session}>\n      <BrowserRouter>\n        <Magpay />\n      </BrowserRouter>\n    </SessionContextProvider>\n  );\n};\n\nexport default RootContainer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport RootContainer from './client/app';\n\nReactDOM.render(<RootContainer />, document.getElementById('root'));\n"],"sourceRoot":""}